<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.kr.board.service.impl.BoardMapper">

	<resultMap type="co.kr.security.UserVO" id="userMap">
		<id column="user_id" property = "userId"/>
		<id column="password" property = "password"/>
		<id column="authorities" property = "authorities"/>
		<id column="name" property = "name"/>
		<id column="email" property = "email "/>
		<id column="enabled" property = "enabled"/>
	</resultMap>

<!-- 로그인 -->
<select id="findOne" parameterType="String" resultMap="userMap">
		SELECT user_id, 
       			password, 
       			authorities, 
       			name, 
       			email, 
       			enabled
		FROM tb_user
		WHERE user_id = #{userId}
	</select>

<!-- 	<select id="findOne" parameterType="String" resultMap="userMap"> -->
<!-- 		SELECT user_id,  -->
<!--        			password,  -->
<!--        			(select authorities from tb_user_auth b where b.user_id = a.user_id) as authorities,  -->
<!--        			name,  -->
<!--        			email,  -->
<!--        			enabled -->
<!-- 		FROM tb_user a -->
<!-- 		WHERE user_id = #{userId} -->
<!-- 	</select> -->
	
</mapper>